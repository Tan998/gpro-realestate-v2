function wpestate_show_morg_pie(){if(!document.getElementById("morgage_chart"))return;const e=jQuery("#morgage_chart").get(0).getContext("2d"),t={datasets:[{data:[jQuery("#morg_principal").attr("data-per"),jQuery("#monthly_property_tax").attr("data-per"),jQuery("#hoo_fees").attr("data-per"),jQuery("#morgage_pmi").attr("data-per")],backgroundColor:["#0073e1","#0dc3f8","#FF5E5B","#9c27b0"]}],labels:[wpestate_property_vars.label_principal,wpestate_property_vars.label_property_tax,wpestate_property_vars.label_hoo,wpestate_property_vars.label_pmi]},r={responsive:!0,cutoutPercentage:70,layout:{padding:{left:50}},animation:{animateScale:!0,animateRotate:!0},tooltips:{enabled:!1},legend:{display:!1}};morgageChart=new Chart(e,{type:"doughnut",data:t,options:r}),jQuery("#morgage_down_payment, #morgage_down_payment_percent, #monthly_property_tax, #hoo_fees, #morgage_home_price, #morgage_term, #morgage_interest, #morgage_pmi_percent").on("change",function(){wpestate_compute_morg()})}function wpestate_compute_morg(){const e=parseFloat(jQuery("#morgage_home_price").val())||0;let t=parseFloat(jQuery("#morgage_down_payment").val())||0;const r=parseFloat(jQuery("#morgage_down_payment_percent").val())||0,a=parseFloat(jQuery("#morgage_term").val())||1,o=parseFloat(jQuery("#morgage_interest").val())||0,s=parseFloat(jQuery("#hoo_fees").val())||0,n=parseFloat(jQuery("#monthly_property_tax").val())||0,l=parseFloat(jQuery("#morgage_pmi_percent").val())||0,i=jQuery(document.activeElement).attr("id");if("morgage_down_payment_percent"===i)t=e*r/100,jQuery("#morgage_down_payment").val(t.toFixed(0));else if("morgage_down_payment"===i){const r=t/e*100;jQuery("#morgage_down_payment_percent").val(r.toFixed(1))}const p=e-t,c=o/100/12,u=c*p,d=1+c;let _=u/(1-Math.pow(d,-1*a*12));0===o&&(_=p/(12*a));const y=p*(l/100)/12,g=_+s+n+y;jQuery("#morg_principal").text(_.toFixed(2)),jQuery("#morgage_pmi").val(y.toFixed(2)),jQuery("#morg_month_total").text(g.toFixed(2));const h=100*_/g,m=100*s/g,w=100*n/g,b=100*y/g;morgageChart.data.datasets[0].data=[h,w,m,b],morgageChart.update()}function wpestate_print_property_page(){jQuery("#print_page").on("click",function(e){e.preventDefault();const t=jQuery(this).attr("data-propid"),r=control_vars.admin_url+"admin-ajax.php",a=window.open("","Print Me","width=700, height=842"),o=jQuery("#wpestate_ajax_filtering").val();jQuery.ajax({type:"POST",url:r,data:{action:"wpestate_ajax_create_print",propid:t,security:o},success:function(e){a.document.write(e),a.document.close(),a.focus(),setTimeout(()=>a.print(),3e3)},error:function(e){console.error("Print page error:",e)}})})}function wpestate_enable_floor_plans(){jQuery(".front_plan_row").on("click",function(e){e.preventDefault(),jQuery(this).parent().find(".front_plan_row_image").slideUp(),jQuery(this).next().slideDown()}),jQuery(".deleter_floor").on("click",function(){jQuery(this).parent().remove()})}function estate_start_lightbox_floorplans(){"use strict";var e;jQuery(".lighbox-image-close-floor").on("click",function(e){e.preventDefault(),jQuery(".master_header").css("z-index","100"),jQuery(".container").css("z-index","2"),jQuery(".header_media").css("z-index",3),jQuery(".lightbox_property_wrapper_floorplans").hide()});let t=!1;"1"===control_vars.is_rtl&&(t=!0),jQuery("#owl-demo-floor").owlCarousel({loop:!0,margin:0,nav:!0,items:1,dots:!1,startPosition:1,rtl:t,navText:['<button class="carousel-control-prev wpresidence-carousel-control" type="button" data-bs-target="#carousel-property-page-header" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button>','<button class="carousel-control-next wpresidence-carousel-control" type="button" data-bs-target="#carousel-property-page-header" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>']}),jQuery(".lightbox_trigger_floor").on("click",function(t){t.preventDefault(),t.stopPropagation(),jQuery(".lightbox_property_wrapper_floorplans").show(),jQuery(".master_header").css("z-index","0"),jQuery(".container").css("z-index","1"),jQuery(".header_media").css("z-index",1),e=parseInt(jQuery(this).attr("data-slider-no"))-1;var r=jQuery("#owl-demo-floor");r.owlCarousel(),r.trigger("to.owl.carousel",[e,1,!0])})}function wpestate_show_stat_accordion(){const e=document.getElementById("myChart");if(!e)return;const t=jQuery(e).get(0).getContext("2d"),r=JSON.parse(wpestate_property_vars.singular_label),a=JSON.parse(wpestate_property_vars.singular_values),o={labels:r,datasets:[{label:wpestate_property_vars.property_views,backgroundColor:"rgba(220,220,220,0.5)",borderColor:"rgba(220,220,220,0.8)",hoverBackgroundColor:"rgba(220,220,220,0.75)",hoverBorderColor:"rgba(220,220,220,1)",data:a}]},s={title:{display:!1,text:"Page Views"},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0,0,0,.05)",lineWidth:1}},x:{grid:{display:!0}}},barPercentage:.9,categoryPercentage:.8,responsive:!0,plugins:{legend:{display:!1}}};new Chart(t,{type:"bar",data:o,options:s})}function estate_start_lightbox_slickslider(){jQuery("#owl-demo").each(function(){let e=!1;"1"===control_vars.is_rtl&&(e=!0),jQuery(this).not(".slick-initialized").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,dots:!1,autoplay:!1,rtl:e,prevArrow:'<button class="carousel-control-prev wpresidence-carousel-control" type="button"  data-bs-target="#wpresidence-blog-post-carousel-bootstrap" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button>',nextArrow:'<button class="carousel-control-next wpresidence-carousel-control" type="button"  data-bs-target="#wpresidence-blog-post-carousel-bootstrap" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>'}),jQuery(".lightbox_trigger").on("click",function(e){e.preventDefault();var t=parseInt(jQuery(this).attr("data-slider-no"))-1;jQuery("#owl-demo").slick("slickGoTo",t),jQuery(".lightbox_property_wrapper").show(400,function(){jQuery("#owl-demo").slick("refresh")})}),jQuery(".lighbox-image-close").on("click",function(e){e.preventDefault(),jQuery(".lightbox_property_wrapper").hide()})})}function estate_start_lightbox(){"use strict";if("slick"===control_vars.wp_estate_lightbox_slider)return void estate_start_lightbox_slickslider();var e;let t=!1;"1"===control_vars.is_rtl&&(t=!0);jQuery("#owl-demo").owlCarousel({loop:!0,margin:0,nav:!0,items:1,dots:!1,startPosition:1,rtl:t,navText:['<button class="carousel-control-prev wpresidence-carousel-control" type="button" data-bs-target="#carousel-property-page-header" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button>','<button class="carousel-control-next wpresidence-carousel-control" type="button" data-bs-target="#carousel-property-page-header" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>']});jQuery(".lightbox_trigger").on("click",function(t){t.preventDefault(),e=parseInt(jQuery(this).attr("data-slider-no"))-1;var r=jQuery("#owl-demo");r.owlCarousel(),r.trigger("to.owl.carousel",[e,1,!0]),jQuery(".lightbox_property_wrapper").show()}),jQuery(".lighbox-image-close").on("click",function(e){e.preventDefault(),jQuery(".lightbox_property_wrapper").hide()})}function wpestate_schedule_tour_slider(){function e(){jQuery(".wpestate_property_schedule_dates_wrapper").each(function(){var e=parseInt(jQuery(this).attr("data-visible-items")),t="1"===control_vars.is_rtl;jQuery(this).hasClass("slick-initialized")&&jQuery(this).slick("unslick"),jQuery(this).slick({infinite:!0,slidesToShow:e,slidesToScroll:1,dots:!1,rtl:t,responsive:[{breakpoint:480,settings:{slidesToShow:3,slidesToScroll:1}}]})})}e(),jQuery("#tab_property_schedule-tab").on("click",function(){e()}),jQuery("#sidebar-schedule-tab").on("click",function(){e()}),jQuery(".wpestate_display_schedule_tour_option").on("click",function(){var e=jQuery(this).parent();e.find(".wpestate_display_schedule_tour_option").removeClass("shedule_option_selected"),jQuery(this).addClass("shedule_option_selected")}),jQuery(".wpestate_property_schedule_singledate_wrapper").on("click",function(){var e=jQuery(this).parent();e.find(".wpestate_property_schedule_singledate_wrapper").removeClass("shedule_day_option_selected"),jQuery(this).addClass("shedule_day_option_selected")})}var morgageChart;jQuery(document).ready(function(e){"use strict";wpestate_print_property_page(),wpestate_enable_floor_plans(),e(".venobox").length>0&&e(".venobox").venobox(),e("a.nested-link").click(function(t){var r=e(this).attr("href");return window.open(r,"_blank"),!1})});